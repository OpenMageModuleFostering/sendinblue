/**
* @author Sendinblue plateform <contact@sendinblue.com>
* @copyright  2013-2014 Sendinblue
* URL:  https:www.sendinblue.com
* Do not edit or add to this file if you wish to upgrade Sendinblue Magento plugin to newer
* versions in the future. If you wish to customize Sendinblue magento plugin for your
* needs then we can't provide a technical support.
**/

jQuery.noConflict();jQuery(document).ready(function(){var f=jQuery("#apistatuskey").val();jQuery("#select").multiselect();jQuery(".sendin_api_status").click(function(){if(f==1&&jQuery(this).val()==1){jQuery("#sendin_apikey").show();jQuery(".alldiv").show();jQuery(".hidetableblock").show();}else{if(jQuery(this).val()==1){jQuery("#sendin_apikey").show();}else{jQuery("#sendin_apikey").hide();jQuery(".alldiv").hide();}}});function g(l){var k=jQuery("#ajaxcontentUrl").val();jQuery.ajax({type:"POST",async:false,url:k,data:"page="+l,beforeSend:function(){jQuery("#ajax-busy").show();},success:function(m){jQuery("#ajax-busy").hide();jQuery(".midleft").html(m);jQuery(".midleft").ajaxComplete(function(p,o,n){jQuery(".midleft").html(m);});}});}jQuery(".hdtab").click(function(){if(parseInt(jQuery(this).val())){jQuery("#hidetabselect").css("display","block");}});jQuery("body").on("click"," .pagination li.active",function(){var k=jQuery(this).attr("p");jQuery("#pagenumber").val(k);g(k);});jQuery(".toolTip").hover(function(){var m=jQuery(this).attr("title");var l=jQuery(this).offset();jQuery("body").append('<div id="tipkk" style="top:'+l.top+"px; left:"+l.left+'px; ">'+m+"</div>");var k=jQuery("#tipkk").height()+25;jQuery("#tipkk").css("top",(l.top-k)+"px");},function(){jQuery("#tipkk").remove();});jQuery("#sender_order").mouseover(function(){var l=jQuery(this).val();if(j(l)||l==""){jQuery("#sender_order").attr("maxlength","17");jQuery("#sender_order_text").text((17-l.length));}else{jQuery("#sender_order").attr("maxlength","11");var k=l.length>11?l.substr(1,11):l;jQuery("#sender_order").val(k);jQuery("#sender_order_text").text((11-l.length));}});jQuery("#sender_order").keyup(function(){var l=jQuery(this).val();if(j(l)||l==""){jQuery("#sender_order").attr("maxlength","17");jQuery("#sender_order_text").text((17-l.length));}else{jQuery("#sender_order").attr("maxlength","11");var k=l.length>11?l.substr(1,11):l;jQuery("#sender_order").val(k);jQuery("#sender_order_text").text((11-l.length));}});jQuery("#sender_order").keydown(function(k){if(k.keyCode==32){k.preventDefault();}});if(jQuery("#sender_order").val()!=""){var c=jQuery("#sender_order").val();if(j(c)){jQuery("#sender_order").attr("maxlength","17");jQuery("#sender_order_text").text((17-c.length));}else{jQuery("#sender_order").attr("maxlength","11");jQuery("#sender_order_text").text((11-c.length));}}jQuery("#sender_order_message").keyup(function(){var m=this.value.length,l=Math.ceil(m/160),k=l*160-(m%(l*160)||l*160);if(k==0){k=160;}jQuery("#sender_order_message_text").text(k);jQuery("#sender_order_message_text_count").text(l);});if(jQuery("#sender_order_message").val()!=""){var h=jQuery("#sender_order_message").val().length,e=Math.ceil(h/160),d=e*160-(h%(e*160)||e*160);jQuery("#sender_order_message_text").text(d);jQuery("#sender_order_message_text_count").text(e);}jQuery("#sender_shipment").mouseover(function(){var l=jQuery(this).val();if(j(l)||l==""){jQuery("#sender_shipment").attr("maxlength","17");jQuery("#sender_shipment_text").text((17-l.length));}else{jQuery("#sender_shipment").attr("maxlength","11");var k=l.length>11?l.substr(1,11):l;jQuery("#sender_shipment").val(k);jQuery("#sender_shipment_text").text((11-l.length));}});jQuery("#sender_shipment").keyup(function(){var l=jQuery(this).val();if(j(l)||l==""){jQuery("#sender_shipment").attr("maxlength","17");jQuery("#sender_shipment_text").text((17-l.length));}else{jQuery("#sender_shipment").attr("maxlength","11");var k=l.length>11?l.substr(1,11):l;jQuery("#sender_shipment").val(k);jQuery("#sender_shipment_text").text((11-l.length));}});jQuery("#sender_shipment").keydown(function(k){if(k.keyCode==32){k.preventDefault();}});if(jQuery("#sender_shipment").val()!=""){var c=jQuery("#sender_shipment").val();if(j(c)){jQuery("#sender_shipment").attr("maxlength","17");jQuery("#sender_shipment_text").text((17-c.length));}else{jQuery("#sender_shipment").attr("maxlength","11");jQuery("#sender_shipment_text").text((11-c.length));}}jQuery("#sender_shipment_message").keyup(function(){var m=this.value.length,l=Math.ceil(m/160),k=l*160-(m%(l*160)||l*160);if(k==0){k=160;}jQuery("#sender_shipment_message_text").text(k);jQuery("#sender_shipment_message_text_count").text(l);});if(jQuery("#sender_shipment_message").val()!=""){var h=jQuery("#sender_shipment_message").val().length,e=Math.ceil(h/160),d=e*160-(h%(e*160)||e*160);jQuery("#sender_shipment_message_text").text(d);jQuery("#sender_shipment_message_text_count").text(e);}jQuery("#sender_campaign").mouseover(function(){var l=jQuery(this).val();if(j(l)||l==""){jQuery("#sender_campaign").attr("maxlength","17");jQuery("#sender_campaign_text").text((17-l.length));}else{jQuery("#sender_campaign").attr("maxlength","11");var k=l.length>11?l.substr(1,11):l;jQuery("#sender_campaign").val(k);jQuery("#sender_campaign_text").text((11-l.length));}});jQuery("#sender_campaign").keyup(function(){var l=jQuery(this).val();if(j(l)||l==""){jQuery("#sender_campaign").attr("maxlength","17");jQuery("#sender_campaign_text").text((17-l.length));}else{jQuery("#sender_campaign").attr("maxlength","11");var k=l.length>11?l.substr(1,11):l;jQuery("#sender_campaign").val(k);jQuery("#sender_campaign_text").text((11-l.length));}});jQuery("#sender_campaign").keydown(function(k){if(k.keyCode==32){k.preventDefault();}});if(jQuery("#sender_campaign").val()!=""){var c=jQuery("#sender_campaign").val();if(j(c)){jQuery("#sender_campaign").attr("maxlength","17");jQuery("#sender_campaign_text").text((17-c.length));}else{jQuery("#sender_campaign").attr("maxlength","11");jQuery("#sender_campaign_text").text((11-c.length));}}jQuery("#sender_campaign_message").keyup(function(){var m=this.value.length,l=Math.ceil(m/160),k=l*160-(m%(l*160)||l*160);if(k==0){k=160;}jQuery("#sender_campaign_message_text").text(k);jQuery("#sender_campaign_message_text_count").text(l);});if(jQuery("#sender_campaign_message").val()!=""){var h=jQuery("#sender_campaign_message").val().length,e=Math.ceil(h/160),d=e*160-(h%(e*160)||e*160);jQuery("#sender_campaign_message_text").text(d);jQuery("#sender_campaign_message_text_count").text(e);}jQuery(".sms_order_setting").click(function(){var l=jQuery(this).val();var k=jQuery("#order").val();jQuery.ajax({type:"POST",async:false,url:k,data:"orderSetting="+l,beforeSend:function(){jQuery("#ajax-busy").show();},success:function(m){jQuery("#ajax-busy").hide();if(l==1){jQuery(".hideOrder").show();}else{jQuery(".hideOrder").hide();}}});});jQuery(".sms_shiping_setting").click(function(){var l=jQuery(this).val();var k=jQuery("#shiping").val();jQuery.ajax({type:"POST",async:false,url:k,data:"shipingSetting="+l,beforeSend:function(){jQuery("#ajax-busy").show();},success:function(m){jQuery("#ajax-busy").hide();if(l==1){jQuery(".hideShiping").show();}else{jQuery(".hideShiping").hide();}}});});jQuery(".sms_campaign_setting").click(function(){var l=jQuery(this).val();var k=jQuery("#campaign").val();jQuery.ajax({type:"POST",async:false,url:k,data:"campaignSetting="+l,beforeSend:function(){jQuery("#ajax-busy").show();},success:function(m){jQuery("#ajax-busy").hide();if(l==1){jQuery(".hideCampaign").show();}else{jQuery(".hideCampaign").hide();}}});});if(jQuery("input:radio[name=sms_order_setting]:checked").val()==0){jQuery(".hideOrder").hide();}else{jQuery(".hideOrder").show();}jQuery(".Sendin_Sms_Choice").click(function(){if(jQuery(this).val()==1){jQuery(".multiplechoice").hide();jQuery(".singlechoice").show();}else{jQuery(".multiplechoice").show();jQuery(".singlechoice").hide();}});if(jQuery("input:radio[name=Sendin_Sms_Choice]:checked").val()==0){jQuery(".multiplechoice").show();jQuery(".singlechoice").hide();}else{jQuery(".singlechoice").show();jQuery(".multiplechoice").hide();}jQuery(".sms_shiping_setting").click(function(){if(jQuery(this).val()==1){jQuery(".hideShiping").show();}else{jQuery(".hideShiping").hide();}});if(jQuery("input:radio[name=sms_credit]:checked").val()==0){jQuery(".hideCredit").hide();}else{jQuery(".hideCredit").show();}jQuery(".sms_credit").click(function(){var k=jQuery(this).val();var m=jQuery("#credits").val();var l="sms_credit";jQuery.ajax({type:"POST",async:false,url:m,data:"sms_credit="+k,beforeSend:function(){jQuery("#ajax-busy").show();},success:function(n){jQuery("#ajax-busy").hide();if(k==1){jQuery(".hideCredit").show();}else{jQuery(".hideCredit").hide();}}});});if(jQuery("input:radio[name=sms_shiping_setting]:checked").val()==0){jQuery(".hideShiping").hide();}else{jQuery(".hideShiping").show();}jQuery(".sms_campaign_setting").click(function(){if(jQuery(this).val()==1){jQuery(".hideCampaign").show();}else{jQuery(".hideCampaign").hide();}});if(jQuery("input:radio[name=sms_campaign_setting]:checked").val()==0){jQuery(".hideCampaign").hide();}else{jQuery(".hideCampaign").show();}jQuery("#selectSmsList").multiselect({header:false,checkall:false});jQuery("#tabs li").click(function(){jQuery("#tabs li").removeClass("active");jQuery(this).addClass("active");jQuery(".tab_content").hide();var k=jQuery(this).find("a").attr("href");jQuery(k).fadeIn();return false;});function j(l){var k=/^[+-]?\d+(\.\d+)?([eE][+-]?\d+)?$/;if(k.test(l)){return true;}return false;}jQuery("#showUserlist").click(function(){if(jQuery(".userDetails").is(":hidden")){g(1);jQuery("#Spantextless").show();jQuery("#Spantextmore").hide();}else{jQuery("#Spantextmore").show();jQuery("#Spantextless").hide();}jQuery(".userDetails").slideToggle();});var i=a();jQuery(".Tracking").click(function(){var l=jQuery(this).val();var k=jQuery("#trackingUrl").val();if(l==0){jQuery(".ordertracking").hide();}if(l==1){jQuery(".ordertracking").show();}jQuery.ajax({type:"POST",async:false,url:k,data:"script="+l,beforeSend:function(){jQuery("#ajax-busy").show();},success:function(m){jQuery("#ajax-busy").hide();}});});jQuery(".Trackhistory").click(function(){var l=jQuery("#history_status").val();var k=jQuery("#importordertrackingUrl").val();jQuery.ajax({type:"POST",async:false,url:k,data:"history_status="+l,beforeSend:function(){jQuery("#ajax-busy").show();},success:function(m){jQuery("#ajax-busy").hide();jQuery(".ordertracking").hide();alert(m);}});});jQuery(".smtpStatus").click(function(){var l=jQuery(this).val();var k=jQuery("#smtpUrl").val();if(l==0){jQuery(".smtptest").hide();}if(l==1){jQuery(".smtptest").show();}jQuery.ajax({type:"POST",async:false,url:k,data:"smtptest="+l,beforeSend:function(){jQuery("#ajax-busy").show();},success:function(m){jQuery("#ajax-busy").hide();}});});var b=jQuery("#skin_url").val();jQuery('<div id="ajax-busy"/> loading..').css({opacity:0.5,position:"fixed",top:0,left:0,width:"100%",height:jQuery(window).height()+"px",background:"white url("+b+"adminhtml/default/default/sendinblue/images/loader.gif) no-repeat center"}).hide().appendTo("body");function a(){var k=location.href.substr(0,location.href.lastIndexOf("/")+1);var m=k.split("/");var l=m[m.length-2];return k.replace(l+"/","");}jQuery("body").on("click",".ajax_contacts_href",function(o){var m=jQuery(this).attr("email");var l=jQuery(this).attr("status");var n=jQuery("#ajaxUrl").val();jQuery.ajax({type:"POST",async:false,url:n,data:{email:m,newsletter:l},beforeSend:function(){jQuery("#ajax-busy").show();},success:function(p){jQuery("#ajax-busy").hide();}});var k=jQuery("#pagenumber").val();g(k);});jQuery("body").on("click",".ajax_sms_subs_href",function(o){var m=jQuery(this).attr("email");var l=jQuery(this).attr("status");var n=jQuery("#ajaxSmsSubscribeUrl").val();jQuery.ajax({type:"POST",async:false,url:n,data:{email:m,sms:l},beforeSend:function(){jQuery("#ajax-busy").show();},success:function(p){jQuery("#ajax-busy").hide();}});var k=jQuery("#pagenumber").val();g(k);});});function testsmssend(h,a,c){var f=jQuery("#sender_order").val();var i=jQuery("#sender_order_message").val();var d=jQuery("#sender_order_number").val();var e=jQuery("#ajaxOrderSmsUrl").val();var b=jQuery("#smsCampError").val();var g=jQuery("#smsCampSuccess").val();if(f==""||isValid(f)==false){alert(h);}else{if(i==""){alert(a);}else{if(d==""){alert(c);}else{jQuery.ajax({type:"POST",async:false,url:e,data:{sender:f,message:i,number:d},beforeSend:function(){jQuery("#ajax-busy").show();},success:function(j){jQuery("#ajax-busy").hide();if(j.trim()=="OK"){alert(g);}else{alert(b);}}});}}}return false;}function testShippedSmsSend(h,a,c){var e=jQuery("#sender_shipment").val();var i=jQuery("#sender_shipment_message").val();var d=jQuery("#sender_shipment_number").val();var f=jQuery("#ajaxOrderShippedUrl").val();var b=jQuery("#smsCampError").val();var g=jQuery("#smsCampSuccess").val();if(e==""||isValid(e)==false){alert(h);}else{if(i==""){alert(a);}else{if(d==""){alert(c);}else{jQuery.ajax({type:"POST",async:false,url:f,data:{sender:e,message:i,number:d},beforeSend:function(){jQuery("#ajax-busy").show();},success:function(j){jQuery("#ajax-busy").hide();if(j.trim()=="OK"){alert(g);}else{alert(b);}}});}}}return false;}function testCampaignSmsSend(h,a,c){var e=jQuery("#sender_campaign").val();var i=jQuery("#sender_campaign_message").val();var d=jQuery("#sender_campaigntest_number").val();var f=jQuery("#ajaxSmsCampaignUrl").val();var b=jQuery("#smsCampError").val();var g=jQuery("#smsCampSuccess").val();if(e==""||isValid(e)==false){alert(h);}else{if(i==""){alert(a);}else{if(d==""||isMobilevalidation(d)==false){alert(c);}else{jQuery.ajax({type:"POST",async:false,url:f,data:{sender:e,message:i,number:d},beforeSend:function(){jQuery("#ajax-busy").show();},success:function(j){jQuery("#ajax-busy").hide();if(j.trim()=="OK"){alert(g);}else{alert(b);}}});}}}return false;}function senderOrderSaveValid(c,a){var b=jQuery("#sender_order").val();var d=jQuery("#sender_order_message").val();if(b==""||isValid(b)==false){alert(c);return false;}else{if(d==""){alert(a);return false;}}}function senderShipmentSaveValid(c,a){var b=jQuery("#sender_shipment").val();var d=jQuery("#sender_shipment_message").val();if(b==""||isValid(b)==false){alert(c);return false;}else{if(d==""){alert(a);return false;}}}function senderCampaignSaveValid(d,a,b){var c=jQuery("#sender_campaign").val();var f=jQuery("#sender_campaign_message").val();var e=jQuery("#singlechoice").val();var g=jQuery("input[name=Sendin_Sms_Choice]:checked").val();if(g==1){if(e==""||isMobilevalidation(e)==false){alert(b);return false;}else{if(c==""||isValid(c)==false){alert(d);return false;}else{if(f==""){alert(a);return false;}}}}else{if(c==""||isValid(c)==false){alert(d);return false;}else{if(f==""){alert(a);return false;}}}}function isMobilevalidation(a){return/^(?:\+|00)[1-9][0-9]{5,15}$/.test(a);}function isNormalInteger(a){return/^\+?(0|[1-9]\d*)$/.test(a);}function isValid(c){var b="~`!#$%^&*+=-[]\\';,/{}|\":<>?";for(var a=0;a<c.length;a++){if(b.indexOf(c.charAt(a))!=-1){return false;}}return true;}function RegexEmail(b){var c=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;var a=c.test(b);return a;}function validate(b,a){if(document.notify_sms_mail_form.sendin_notify_email.value==""||RegexEmail(document.notify_sms_mail_form.sendin_notify_email.value)==false){alert(b);document.notify_sms_mail_form.sendin_notify_email.focus();return false;}if(document.notify_sms_mail_form.sendin_notify_value.value==""||isNormalInteger(document.notify_sms_mail_form.sendin_notify_value.value)==false){alert(a);document.notify_sms_mail_form.sendin_notify_value.focus();return false;}return(true);}function smtpvalidate(b){var a=jQuery("#email").val();if(a==""||RegexEmail(a)==false){alert(b);jQuery("#email").focus();return false;}}function apikvalidate(c){var a=jQuery("#sendin_apikey_val").val();var b=jQuery("input[name=sendin_api_status]:checked").val();if(a.trim()==""&&b!=0){alert(c);jQuery("#sendin_apikey_val").focus();return false;}}
